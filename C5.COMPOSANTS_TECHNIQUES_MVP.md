# üìö Sp√©cification des Domaines M√©tier & Composants Techniques - MVP DelishGo

Ce document liste les **domaines m√©tier** essentiels pour le MVP de la plateforme DelishGo, ainsi que les √©l√©ments
techniques √† cr√©er dans chaque domaine, en suivant les principes DDD et architecture propre.

---

## 1. User (Utilisateurs)

### Description

Gestion des utilisateurs : clients finaux, restaurateurs, administrateurs.

### Entit√©s principales

- **User**
    - id (UUID)
    - nom, pr√©nom
    - email
    - mot de passe (hash√©)
    - r√¥le (CLIENT, RESTAURANT, ADMIN)
    - date cr√©ation, statut (actif, suspendu)

### Services m√©tier

- Gestion inscription / authentification
- Gestion des r√¥les et permissions

### Interfaces (ports)

- UserRepository : CRUD utilisateur
- AuthService : inscription, login, logout, validation

### Objets valeur

- Email
- MotDePasse

---

## 2. Restaurant

### Description

Gestion des restaurants, informations publiques et valid√©es.

### Entit√©s principales

- **Restaurant**
    - id (UUID)
    - nom
    - description
    - adresse (objet valeur)
    - t√©l√©phone
    - email
    - horaires d‚Äôouverture
    - statut validation (en attente, valid√©, refus√©)
    - propri√©taire (r√©f√©rence User)

### Services m√©tier

- Cr√©ation et modification de restaurant
- Validation par admin

### Interfaces (ports)

- RestaurantRepository : CRUD
- ValidationService : g√©rer statut validation

### Objets valeur

- Adresse (rue, ville, code postal, pays)

---

## 3. Menu

### Description

Gestion des menus et plats des restaurants.

### Entit√©s principales

- **MenuItem (Plat)**
    - id (UUID)
    - nom
    - description
    - prix
    - disponible (bool√©en)
    - cat√©gorie (ex: entr√©e, plat principal, dessert)
    - restaurant (r√©f√©rence Restaurant)

### Services m√©tier

- Gestion des menus (CRUD)
- Activation / d√©sactivation des plats

### Interfaces (ports)

- MenuRepository

---

## 4. Order (Commande)

### Description

Gestion des commandes clients.

### Entit√©s principales

- **Order (Commande)**
    - id (UUID)
    - client (r√©f√©rence User)
    - restaurant (r√©f√©rence Restaurant)
    - liste des items command√©s (OrderItem)
    - statut (PENDING, ACCEPTED, REJECTED, COMPLETED)
    - mode (emporter, sur place)
    - date cr√©ation, date mise √† jour

- **OrderItem**
    - id (UUID)
    - menuItem (r√©f√©rence MenuItem)
    - quantit√©
    - prix unitaire

### Services m√©tier

- Cr√©ation de commande
- Modification / annulation
- Suivi du statut

### Interfaces (ports)

- OrderRepository

---

## 5. Notification

### Description

Envoi des notifications aux clients et restaurants.

### Services m√©tier

- Notification nouvelle commande (restaurant)
- Notification changement statut commande (client)
- Notifications push via Firebase Cloud Messaging (FCM)

### Interfaces (ports)

- NotificationService

---

## 6. Admin (Administration)

### Description

Gestion administrative et supervision.

### Fonctionnalit√©s

- Gestion des utilisateurs
- Validation des restaurants
- Suivi global des commandes
- Consultation des statistiques simples

### Interfaces (ports)

- AdminService (regroupant diff√©rentes fonctionnalit√©s)

---

## 7. Authentication & Authorization

### Description

Gestion des acc√®s s√©curis√©s avec Keycloak et OAuth (Google/Apple).

### Composants techniques

- Configuration Keycloak
- Gestion des tokens d‚Äôacc√®s
- Int√©gration OAuth externes
- V√©rification des r√¥les / permissions dans l‚Äôapplication

---

# R√©sum√© des composants techniques √† d√©velopper

| Domaine      | Composants code √† cr√©er                                    |
|--------------|------------------------------------------------------------|
| User         | Entit√© User, UserRepository, AuthService                   |
| Restaurant   | Entit√© Restaurant, RestaurantRepository, ValidationService |
| Menu         | Entit√© MenuItem, MenuRepository                            |
| Order        | Entit√©s Order, OrderItem, OrderRepository                  |
| Notification | NotificationService, int√©gration FCM                       |
| Admin        | AdminService                                               |
| Auth         | Configuration Keycloak, gestion OAuth                      |

---

# Notes suppl√©mentaires

- Chaque domaine suit l‚Äôarchitecture hexagonale :
    - **Domain** : entit√©s, objets valeur, interfaces repository
    - **Application** : services m√©tier / cas d‚Äôusage
    - **Infrastructure** : impl√©mentations techniques (JPA, API externes)
    - **Adapters Web/API** : contr√¥leurs REST exposant les fonctionnalit√©s

- Pr√©voir une documentation technique et fonctionnelle pour chaque domaine.

---

N‚Äôh√©site pas √† me demander si tu souhaites un exemple de code Java pour une de ces entit√©s ou services !
