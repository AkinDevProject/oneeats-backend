quarkus:
  # Mode développement
  live-reload:
    enabled: true

  # Hot reload pour les changements
  dev:
    instrumentation: true

  # Base de données développement
  datasource:
    jdbc:
      url: jdbc:postgresql://localhost:5432/oneeats_dev
    username: oneeats_user
    password: oneeats_password

  hibernate-orm:
    database:
      generation: drop-and-create
    sql-load-script: import-dev.sql
    log:
      sql: true
      format-sql: true
    statistics: true

  # Logs détaillés
  log:
    level: DEBUG
    category:
      "com.oneeats": DEBUG
      "org.hibernate": DEBUG
      "io.quarkus.hibernate.orm": DEBUG
      "jakarta.transaction": DEBUG




  # Quinoa désactivé temporairement pour les tests backend
  # quinoa:
  #   ui-dir: apps/web
  #   dev-server:
  #     port: 5173
  #     host: localhost
  #     check-timeout: 1000
  #   package-manager-install: false
  #   package-manager-install-dir: ../../apps/web
  #   node-version: 20.10.0

  quinoa:
    # Configuration professionnelle Quinoa + Vite
    enabled: true
    ui-dir: apps/web
    
    # Configuration dev server
    dev-server:
      port: 5173
      host: localhost
      check-timeout: 1000
      auto-start: true
      
    # SPA routing pour React Router
    spa-routing: true
    spa-routing-path: "/"
    spa-routing-ignored-paths: "/api/*,/q/*,/health*,/metrics*,/openapi*,/favicon.ico"
    
    # Build configuration  
    build-dir: dist
    
    # Package manager
    package-manager: npm
    package-manager-install: true
    
    # Scripts
    dev-script: "dev"
    build-script: "build"

  keycloak:
    policy-enforcer:
      enable: false  # Désactive l'autorisation en dev

# Configuration développement OneEats
oneeats:
  business:
    notification:
      enabled: true
      # En dev, on log seulement
      email-enabled: false
      sms-enabled: false

  debug:
    log-requests: true
    log-responses: true
    fake-data: true  # Pour charger des données de test
