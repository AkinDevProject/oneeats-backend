# Configuration de test pour OneEats
# Cette configuration est utilisée pendant l'exécution des tests d'intégration

# Configuration de la base de données de test
quarkus:
  # Base de données PostgreSQL dédiée aux tests
  datasource:
    db-kind: postgresql
    username: oneeats_test_user
    password: oneeats_test_password
    jdbc:
      url: jdbc:postgresql://localhost:5433/oneeats_test

  # Hibernate - Recréer le schéma à chaque test
  hibernate-orm:
    database:
      generation: drop-and-create
    sql-load-script: import.sql
    log:
      sql: false # Mettre à true pour debug SQL


  # Désactiver OIDC pour les tests
  oidc:
    enabled: false
  
  # Désactiver Quinoa pour les tests
  quinoa:
    enabled: false

  # Configuration des logs de test
  log:
    level: INFO
    category:
      "com.oneeats": DEBUG
      "org.hibernate.SQL": WARN
      "org.hibernate.type.descriptor.sql": WARN
    console:
      enable: true
      format: "%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n"




