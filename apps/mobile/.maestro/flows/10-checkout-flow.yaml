# =============================================================================
# FLOW 10: Passage de commande (Checkout)
# =============================================================================
appId: com.oneeats.mobile
name: "10 - Checkout Flow"
tags:
  - order
  - smoke

---

# SETUP: Lancer l'app
- launchApp:
    clearState: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 15000

- runFlow:
    when:
      visible: "Continuer sans compte"
    commands:
      - tapOn: "Continuer sans compte"

- extendedWaitUntil:
    visible: ".*proximit.*"
    timeout: 15000

# Aller au panier pour voir l'etat
- tapOn: "Panier"

- extendedWaitUntil:
    visible: "Panier"
    timeout: 5000

- takeScreenshot: "10-cart-checkout"

# Note: Si le panier est vide, on ne peut pas checkout
# Ce test verifie simplement l'acces au panier

- tapOn: "Accueil"

- extendedWaitUntil:
    visible: ".*proximit.*"
    timeout: 5000

- takeScreenshot: "10-checkout-complete"
