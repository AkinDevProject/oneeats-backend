# =============================================================================
# FLOW 02: Navigation entre les onglets
# =============================================================================
# Verifie que la navigation entre les onglets principaux fonctionne
# Tags: smoke, navigation
# =============================================================================

appId: com.oneeats.mobile
name: "02 - Tab Navigation"
tags:
  - smoke
  - navigation
  - regression

---

# -----------------------------------------------------------------------------
# SETUP: Lancement
# -----------------------------------------------------------------------------
- launchApp:
    clearState: true

# Attendre que l'app se charge (login ou accueil)
- extendedWaitUntil:
    visible: ".*"
    timeout: 15000

# Skip auth si on est sur l'ecran de connexion
- runFlow:
    when:
      visible: "Continuer sans compte"
    commands:
      - tapOn: "Continuer sans compte"

# Attendre l'ecran d'accueil (onglet Accueil visible)
- extendedWaitUntil:
    visible: "Accueil"
    timeout: 15000

# -----------------------------------------------------------------------------
# TEST 1: Onglet Accueil (par defaut)
# -----------------------------------------------------------------------------
- takeScreenshot: "02-tab-home"

# -----------------------------------------------------------------------------
# TEST 2: Onglet Panier
# -----------------------------------------------------------------------------
- tapOn: "Panier"

- extendedWaitUntil:
    visible: "Panier"
    timeout: 5000

- takeScreenshot: "02-tab-cart"

# -----------------------------------------------------------------------------
# TEST 3: Onglet Compte
# -----------------------------------------------------------------------------
- tapOn: "Compte"

- extendedWaitUntil:
    visible: "Compte"
    timeout: 5000

- takeScreenshot: "02-tab-compte"

# -----------------------------------------------------------------------------
# TEST 4: Retour a l'accueil
# -----------------------------------------------------------------------------
- tapOn: "Accueil"

- extendedWaitUntil:
    visible: "Accueil"
    timeout: 5000

- takeScreenshot: "02-tab-home-return"
