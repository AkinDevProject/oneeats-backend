# =============================================================================
# FLOW 16: Parcours utilisateur complet E2E
# =============================================================================
appId: com.oneeats.mobile
name: "16 - Complete User Journey E2E"
tags:
  - e2e
  - smoke

---

# PHASE 1: Lancement
- launchApp:
    clearState: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 45000

- takeScreenshot: "16-e2e-01-start"

# PHASE 2: Skip auth si le bouton est visible
- runFlow:
    when:
      visible: "Continuer sans compte"
    commands:
      - tapOn: "Continuer sans compte"

# Delai pour laisser la navigation se faire
- extendedWaitUntil:
    visible: ".*"
    timeout: 10000

- takeScreenshot: "16-e2e-02-after-skip"

# PHASE 3: Verifier qu'on est sur l'accueil (optionnel car peut deja y etre)
- assertVisible:
    text: "Accueil"
    optional: true

- takeScreenshot: "16-e2e-03-home"

# PHASE 4: Navigation - Scroll sur l'accueil
- scroll

- takeScreenshot: "16-e2e-04-scroll"

# PHASE 5: Aller au panier (optionnel si pas de tab bar)
- tapOn:
    text: "Panier"
    optional: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 10000

- takeScreenshot: "16-e2e-05-cart"

# PHASE 6: Aller au compte (optionnel)
- tapOn:
    text: "Compte"
    optional: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 10000

- takeScreenshot: "16-e2e-06-compte"

# PHASE 7: Retour accueil (optionnel)
- tapOn:
    text: "Accueil"
    optional: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 10000

- takeScreenshot: "16-e2e-07-final"
