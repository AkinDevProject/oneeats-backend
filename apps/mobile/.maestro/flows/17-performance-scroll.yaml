# =============================================================================
# FLOW 17: Tests de performance et scroll
# =============================================================================
appId: com.oneeats.mobile
name: "17 - Performance & Scroll Tests"
tags:
  - performance
  - regression

---

# SETUP
- launchApp:
    clearState: true

- extendedWaitUntil:
    visible: "OneEats"
    timeout: 15000

- runFlow:
    when:
      visible: "Continuer sans compte"
    commands:
      - tapOn: "Continuer sans compte"

- extendedWaitUntil:
    visible: "Restaurants"
    timeout: 15000

# TEST 1: Scroll vertical
- scroll:
    direction: DOWN

- scroll:
    direction: DOWN

- scroll:
    direction: DOWN

- takeScreenshot: "17-scroll-down"

# Scroll up
- scroll:
    direction: UP

- scroll:
    direction: UP

- scroll:
    direction: UP

- takeScreenshot: "17-scroll-up"

# TEST 2: Navigation rapide entre onglets
- tapOn: "Panier"

- tapOn: "Favoris"

- tapOn: "Profil"

- tapOn: "Accueil"

- takeScreenshot: "17-tab-switch"

# TEST 3: Scroll rapide
- repeat:
    times: 3
    commands:
      - scroll:
          direction: DOWN

- repeat:
    times: 3
    commands:
      - scroll:
          direction: UP

- takeScreenshot: "17-rapid-scroll"

# Verification finale
- extendedWaitUntil:
    visible: "Restaurants"
    timeout: 5000

- takeScreenshot: "17-final-stable"
